language: objective-c
osx_image: xcode8

before_install:
  - curl -OlL "https://github.com/Carthage/Carthage/releases/download/0.22.0/Carthage.pkg"
  - sudo installer -pkg "Carthage.pkg" -target /
  - rm "Carthage.pkg"

install:
  - gem install xcpretty

script:
  - set -o pipefail && travis_retry xcodebuild -project KRProgressHUD.xcodeproj -scheme KRProgressHUD -sdk iphonesimulator -destination 'platform=iOS Simulator,name=iPhone 6,OS=9.0' test | xcpretty
  - swift test --parallel
